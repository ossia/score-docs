{"Document":{"ObjectName":"Scenario::ScenarioDocumentModel","id":1,"BaseScenario":{"ObjectName":"Scenario::BaseScenario","id":0,"Constraint":{"ObjectName":"Scenario::IntervalModel","id":0,"Metadata":{"ScriptingName":"camera","Comment":"","Color":"Transparent1","Label":"","Touched":true},"Inlet":{"uuid":"a1574bb0-cbd4-4c7d-9417-0c25cfd1187b","ObjectName":"Inlet","id":0,"Hidden":false,"Custom":"Audio in","Exposed":"audio in"},"Outlet":{"uuid":"a1d97535-18ac-444a-8417-0cbc1692d897","ObjectName":"Outlet","id":0,"Hidden":false,"Custom":"Audio out","Exposed":"audio out","Address":"audio:/out/main","GainInlet":{"uuid":"9a13fb32-269a-47bf-99a9-930188c1f19c","ObjectName":"Inlet","id":10000,"Hidden":false,"Custom":"Gain","Exposed":"gain","Value":{},"Init":{},"Domain":{"Float":{"Min":0.0,"Max":1.0}}},"PanInlet":{"uuid":"9a13fb32-269a-47bf-99a9-930188c1f19c","ObjectName":"Inlet","id":10001,"Hidden":false,"Custom":"Pan","Exposed":"pan","Value":{},"Init":{},"Domain":{}},"Gain":1.0,"Pan":[1.0,1.0],"Propagate":true},"Processes":[{"uuid":"7be51631-fb4b-4152-9ca7-86fdafa8a989","ObjectName":"Display","id":24,"Metadata":{"ScriptingName":"Text Box.2","Comment":"","Color":"Transparent1","Label":"","Touched":true},"Duration":10584000000,"Height":300.0,"StartOffset":0,"LoopDuration":10584000000,"Pos":[-120.38445312500016,-412.6282890625],"Size":[364.140625,53.0],"Loops":false,"Inlets":[{"uuid":"9ae797ea-d94c-4792-acec-9ec1932bae5d","ObjectName":"Inlet","id":0,"Hidden":true,"Custom":"in","Exposed":"in","Value":{"String":"<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0//EN\" \"http://www.w3.org/TR/REC-html40/strict.dtd\">\n<html><head><meta name=\"qrichtext\" content=\"1\" /><meta charset=\"utf-8\" /><style type=\"text/css\">\np, li { white-space: pre-wrap; }\nhr { height: 1px; border-width: 0; }\nli.unchecked::marker { content: \"\\2610\"; }\nli.checked::marker { content: \"\\2612\"; }\n</style></head><body style=\" font-family:'Ubuntu'; font-size:10pt; font-weight:400; font-style:normal;\">\n<p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\">Followed by a chain of video effects.<br />The camera input is at the inputImage of the first ISF shader.<br />Everything happens on the GPU.</p></body></html>"},"Init":{"String":"(Double-click to edit)"},"Domain":{}}],"Outlets":[]},{"uuid":"7be51631-fb4b-4152-9ca7-86fdafa8a989","ObjectName":"Display","id":23,"Metadata":{"ScriptingName":"Text Box.1","Comment":"","Color":"Transparent1","Label":"","Touched":true},"Duration":10584000000,"Height":300.0,"StartOffset":0,"LoopDuration":10584000000,"Pos":[-410.38445312500016,-390.6282890625],"Size":[228.890625,38.0],"Loops":false,"Inlets":[{"uuid":"9ae797ea-d94c-4792-acec-9ec1932bae5d","ObjectName":"Inlet","id":0,"Hidden":true,"Custom":"in","Exposed":"in","Value":{"String":"<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0//EN\" \"http://www.w3.org/TR/REC-html40/strict.dtd\">\n<html><head><meta name=\"qrichtext\" content=\"1\" /><meta charset=\"utf-8\" /><style type=\"text/css\">\np, li { white-space: pre-wrap; }\nhr { height: 1px; border-width: 0; }\nli.unchecked::marker { content: \"\\2610\"; }\nli.checked::marker { content: \"\\2612\"; }\n</style></head><body style=\" font-family:'Ubuntu'; font-size:10pt; font-weight:400; font-style:normal;\">\n<p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\">Some mappings to turn the RMS data <br />into something useable</p></body></html>"},"Init":{"String":"(Double-click to edit)"},"Domain":{}}],"Outlets":[]},{"uuid":"7be51631-fb4b-4152-9ca7-86fdafa8a989","ObjectName":"Display","id":22,"Metadata":{"ScriptingName":"Text Box","Comment":"","Color":"Transparent1","Label":"","Touched":true},"Duration":10584000000,"Height":300.0,"StartOffset":0,"LoopDuration":10584000000,"Pos":[-828.1735156250002,-388.6282890625],"Size":[342.421875,38.0],"Loops":false,"Inlets":[{"uuid":"9ae797ea-d94c-4792-acec-9ec1932bae5d","ObjectName":"Inlet","id":0,"Hidden":true,"Custom":"in","Exposed":"in","Value":{"String":"<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0//EN\" \"http://www.w3.org/TR/REC-html40/strict.dtd\">\n<html><head><meta name=\"qrichtext\" content=\"1\" /><meta charset=\"utf-8\" /><style type=\"text/css\">\np, li { white-space: pre-wrap; }\nhr { height: 1px; border-width: 0; }\nli.unchecked::marker { content: \"\\2610\"; }\nli.checked::marker { content: \"\\2612\"; }\n</style></head><body style=\" font-family:'Ubuntu'; font-size:10pt; font-weight:400; font-style:normal;\">\n<p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\">Here we get some microphone input.<br />If you don't have a microphone, drop a soundfile instead.</p></body></html>"},"Init":{"String":"(Double-click to edit)"},"Domain":{}}],"Outlets":[]},{"uuid":"25c64b87-a44a-4fed-9f60-0a48906fd3ec","ObjectName":"Process::ProcessModel","id":21,"Metadata":{"ScriptingName":"Micromap.10","Comment":"","Color":"Transparent1","Label":"","Touched":true},"Duration":10584000000,"Height":300.0,"StartOffset":0,"LoopDuration":10584000000,"Pos":[-391.17351562500016,-141.12828906250004],"Size":[184.0,35.0],"Loops":false,"Inlets":[{"uuid":"769dd38a-bfb3-4dc6-b52a-b6abb7afe2a3","ObjectName":"Inlet","id":0,"Hidden":false,"Custom":"in","Exposed":"in"},{"uuid":"9ae797ea-d94c-4792-acec-9ec1932bae5d","ObjectName":"Inlet","id":1,"Hidden":true,"Custom":"Expression","Exposed":"expression","Value":{"String":"0.2x"},"Init":{},"Domain":{}}],"Outlets":[{"uuid":"cff96158-cc72-46d7-99dc-b6038171375b","ObjectName":"Outlet","id":0,"Hidden":false,"Custom":"out","Exposed":"out"}]},{"uuid":"031bc209-5097-44ac-99c1-ade065a0c02d","ObjectName":"Peak_detection","id":17,"Metadata":{"ScriptingName":"Peak detection","Comment":"","Color":"Transparent1","Label":"","Touched":true},"Duration":10584000000,"Height":300.0,"StartOffset":0,"LoopDuration":10584000000,"Pos":[-4.173515625000164,-132.62828906250002],"Size":[117.5625,22.0],"Loops":false,"Inlets":[{"uuid":"769dd38a-bfb3-4dc6-b52a-b6abb7afe2a3","ObjectName":"Inlet","id":0,"Hidden":false,"Custom":"Peak detection signal","Exposed":"peak detection signal","Description":"Input signal. Float between 0 and 1"},{"uuid":"82427d27-084a-4ab6-9c4e-db83929a1200","ObjectName":"Inlet","id":1,"Hidden":true,"Custom":"Trigger threshold","Exposed":"trigger threshold","Value":{"Float":0.14791665971279144},"Init":{"Float":0.5},"Domain":{"Float":{"Min":0.0,"Max":1.0}}},{"uuid":"82427d27-084a-4ab6-9c4e-db83929a1200","ObjectName":"Inlet","id":2,"Hidden":true,"Custom":"Reload threshold","Exposed":"reload threshold","Value":{"Float":0.02361111156642437},"Init":{"Float":0.3499999940395355},"Domain":{"Float":{"Min":0.0,"Max":1.0}}},{"uuid":"82427d27-084a-4ab6-9c4e-db83929a1200","ObjectName":"Inlet","id":3,"Hidden":true,"Custom":"Fallback tolerance","Exposed":"fallback tolerance","Value":{"Float":0.13750000298023224},"Init":{"Float":0.10000000149011612},"Domain":{"Float":{"Min":0.0,"Max":1.0}}}],"Outlets":[{"uuid":"cff96158-cc72-46d7-99dc-b6038171375b","ObjectName":"Outlet","id":0,"Hidden":false,"Custom":"Peak max","Exposed":"peak max","Description":"Boolean. True when a local maximum (apex) is detected."},{"uuid":"cff96158-cc72-46d7-99dc-b6038171375b","ObjectName":"Outlet","id":1,"Hidden":false,"Custom":"Peak min","Exposed":"peak min","Description":"Boolean. True when a local minimum (valley) is detected."},{"uuid":"cff96158-cc72-46d7-99dc-b6038171375b","ObjectName":"Outlet","id":2,"Hidden":false,"Custom":"Peak rising","Exposed":"peak rising","Description":"Boolean. True when signal crosses upward above the trigger threshold."},{"uuid":"cff96158-cc72-46d7-99dc-b6038171375b","ObjectName":"Outlet","id":3,"Hidden":false,"Custom":"Peak falling","Exposed":"peak falling","Description":"Boolean. True when signal crosses downward below the trigger threshold."}]},{"uuid":"25c64b87-a44a-4fed-9f60-0a48906fd3ec","ObjectName":"Process::ProcessModel","id":16,"Metadata":{"ScriptingName":"Micromap.9","Comment":"","Color":"Transparent1","Label":"","Touched":true},"Duration":10584000000,"Height":300.0,"StartOffset":0,"LoopDuration":10584000000,"Pos":[-394.17351562500016,-214.12828906250002],"Size":[184.0,35.0],"Loops":false,"Inlets":[{"uuid":"769dd38a-bfb3-4dc6-b52a-b6abb7afe2a3","ObjectName":"Inlet","id":0,"Hidden":false,"Custom":"in","Exposed":"in"},{"uuid":"9ae797ea-d94c-4792-acec-9ec1932bae5d","ObjectName":"Inlet","id":1,"Hidden":true,"Custom":"Expression","Exposed":"expression","Value":{"String":"x"},"Init":{},"Domain":{}}],"Outlets":[{"uuid":"cff96158-cc72-46d7-99dc-b6038171375b","ObjectName":"Outlet","id":0,"Hidden":false,"Custom":"out","Exposed":"out"}]},{"uuid":"74ca45ff-92c9-44a0-8f1a-754dea05ee1b","ObjectName":"gfxProcess","id":14,"Metadata":{"ScriptingName":"Optical Flow Distort","Comment":"","Color":"Transparent1","Label":"","Touched":true},"Duration":10584000000,"Height":300.0,"StartOffset":0,"LoopDuration":10584000000,"Pos":[271.8125,-307.0],"Size":[89.6875,22.0],"Loops":false,"Vertex":"#if __VERSION__ <= 120\nvarying vec2 left_coord;\nvarying vec2 right_coord;\nvarying vec2 above_coord;\nvarying vec2 below_coord;\n\nvarying vec2 lefta_coord;\nvarying vec2 righta_coord;\nvarying vec2 leftb_coord;\nvarying vec2 rightb_coord;\n#else\nout vec2 left_coord;\nout vec2 right_coord;\nout vec2 above_coord;\nout vec2 below_coord;\n\nout vec2 lefta_coord;\nout vec2 righta_coord;\nout vec2 leftb_coord;\nout vec2 rightb_coord;\n#endif\n\n\nvoid main()\n{\n\tisf_vertShaderInit();\n\tvec2 texc = vec2(isf_FragNormCoord[0],isf_FragNormCoord[1]);\n\tvec2 d = 4.0/RENDERSIZE;\n\n\tleft_coord = clamp(vec2(texc.xy + vec2(-d.x , 0)),0.0,1.0);\n\tright_coord = clamp(vec2(texc.xy + vec2(d.x , 0)),0.0,1.0);\n\tabove_coord = clamp(vec2(texc.xy + vec2(0,d.y)),0.0,1.0);\n\tbelow_coord = clamp(vec2(texc.xy + vec2(0,-d.y)),0.0,1.0);\n\n\tlefta_coord = clamp(vec2(texc.xy + vec2(-d.x , d.x)),0.0,1.0);\n\trighta_coord = clamp(vec2(texc.xy + vec2(d.x , d.x)),0.0,1.0);\n\tleftb_coord = clamp(vec2(texc.xy + vec2(-d.x , -d.x)),0.0,1.0);\n\trightb_coord = clamp(vec2(texc.xy + vec2(d.x , -d.x)),0.0,1.0);\n}","Fragment":"/*{\n    \"CATEGORIES\": [\n        \"Distortion Effect\",\n        \"Stylize\"\n    ],\n    \"CREDIT\": \"by VIDVOX, based on original implementation by Andrew Benson and v002\",\n    \"DESCRIPTION\": \"Uses an optical flow mask to create a distortion\",\n    \"INPUTS\": [\n        {\n            \"NAME\": \"inputImage\",\n            \"TYPE\": \"image\"\n        },\n        {\n            \"DEFAULT\": 0.5,\n            \"LABEL\": \"Distortion Amount\",\n            \"MAX\": 1,\n            \"MIN\": 0,\n            \"NAME\": \"amt\",\n            \"TYPE\": \"float\"\n        },\n        {\n            \"DEFAULT\": 0.98,\n            \"LABEL\": \"Flow Persistence\",\n            \"MAX\": 1,\n            \"MIN\": 0,\n            \"NAME\": \"maskHold\",\n            \"TYPE\": \"float\"\n        },\n        {\n            \"DEFAULT\": 2,\n            \"LABEL\": \"Scale\",\n            \"MAX\": 10,\n            \"MIN\": 0,\n            \"NAME\": \"inputScale\",\n            \"TYPE\": \"float\"\n        },\n        {\n            \"DEFAULT\": 0.1,\n            \"LABEL\": \"Offset\",\n            \"MAX\": 1,\n            \"MIN\": 0,\n            \"NAME\": \"inputOffset\",\n            \"TYPE\": \"float\"\n        },\n        {\n            \"DEFAULT\": 1,\n            \"LABEL\": \"Noise Removal\",\n            \"MAX\": 1,\n            \"MIN\": 0,\n            \"NAME\": \"inputLambda\",\n            \"TYPE\": \"float\"\n        },\n        {\n            \"LABEL\": \"Restart\",\n            \"NAME\": \"resetNow\",\n            \"TYPE\": \"event\"\n        }\n    ],\n    \"ISFVSN\": \"2\",\n    \"PASSES\": [\n        {\n            \"PERSISTENT\": true,\n            \"TARGET\": \"maskBuffer\"\n        },\n        {\n            \"PERSISTENT\": true,\n            \"TARGET\": \"delayBuffer\"\n        },\n        {\n        }\n    ]\n}\n*/\n\n#if __VERSION__ <= 120\nvarying vec2 left_coord;\nvarying vec2 right_coord;\nvarying vec2 above_coord;\nvarying vec2 below_coord;\n\nvarying vec2 lefta_coord;\nvarying vec2 righta_coord;\nvarying vec2 leftb_coord;\nvarying vec2 rightb_coord;\n#else\nin vec2 left_coord;\nin vec2 right_coord;\nin vec2 above_coord;\nin vec2 below_coord;\n\nin vec2 lefta_coord;\nin vec2 righta_coord;\nin vec2 leftb_coord;\nin vec2 rightb_coord;\n#endif\n\n\n//\tbased on v002 Optical Flow which is itself a port of Andrew Bensons HS Flow implementation on the GPU.\n//\thttps://github.com/v002/v002-Optical-Flow\n\n\nconst vec4 coeffs = vec4(0.2126, 0.7152, 0.0722, 1.0);\n\nfloat gray(vec4 n)\n{\n\treturn (n.r + n.g + n.b)/3.0;\n}\n\nvoid main()\n{\n\t//\ton the first pass generate the mask using the previous delayBuffer and inputImage\n\t//\ton the 2nd pass update the delayBuffer to hold inputImage\n\t//\ton the 3rd pass output the new mask\n\tif (PASSINDEX == 0)\t{\n\t\tif ((FRAMEINDEX == 0)||(resetNow))\t{\n\t\t\tgl_FragColor = vec4(0.5);\n\t\t}\n\t\telse\t{\n\t\t\t//\tconvert to grayscale\n\t\t\tvec4 a = IMG_THIS_PIXEL(inputImage) * coeffs;\n\t\t\tfloat brightness = gray(a);\n\t\t\ta = vec4(brightness);\n\t\t\tvec4 b = IMG_THIS_PIXEL(delayBuffer) * coeffs;\n\t\t\tbrightness = gray(b);\n\t\t\tb = vec4(brightness);\n\t\t\n\t\t\tvec2 x1 = vec2(inputOffset * RENDERSIZE.x, 0.0);\n\t\t\tvec2 y1 = vec2(0.0,inputOffset * RENDERSIZE.y);\n\t\t\tvec2 texcoord0 = isf_FragNormCoord.xy * RENDERSIZE;\n\t\t\tvec2 texcoord1 = isf_FragNormCoord.xy * RENDERSIZE;\n\t\t\n\t\t\t//get the difference\n\t\t\tvec4 curdif = b-a;\n\t\n\t\t\t//calculate the gradient\n\t\t\tvec4 gradx = IMG_PIXEL(delayBuffer, texcoord1+x1)-IMG_PIXEL(delayBuffer, texcoord1-x1);\n\t\t\tgradx += IMG_PIXEL(inputImage, texcoord0+x1)-IMG_PIXEL(inputImage, texcoord0-x1);\n\t\t\n\t\t\tvec4 grady = IMG_PIXEL(delayBuffer, texcoord1+y1)-IMG_PIXEL(delayBuffer, texcoord1-y1);\n\t\t\tgrady += IMG_PIXEL(inputImage, texcoord0+y1)-IMG_PIXEL(inputImage, texcoord0-y1);\n\t\n\t\t\tvec4 gradmag = sqrt((gradx*gradx)+(grady*grady)+vec4(inputLambda));\n\n\t\t\tvec4 vx = curdif*(gradx/gradmag);\n\t\t\tfloat vxd = gray(vx);//assumes greyscale\n\t\t\t//format output for flowrepos, out(-x,+x,-y,+y)\n\t\t\tvec2 xout = vec2(max(vxd,0.),abs(min(vxd,0.)))*inputScale;\n\n\t\t\tvec4 vy = curdif*(grady/gradmag);\n\t\t\tfloat vyd = gray(vy);//assumes greyscale\n\t\t\t//format output for flowrepos, out(-x,+x,-y,+y)\n\t\t\tvec2 yout = vec2(max(vyd,0.),abs(min(vyd,0.)))*inputScale;\n\t\n\t\t\t//gl_FragColor = clamp(vec4(xout.xy,yout.xy), 0.0, 1.0);\n\t\t\n\t\t\tvec4 mask = clamp(vec4(xout.xy,yout.xy), 0.0, 1.0);\n\t\t\n\t\t\tvec4 color = IMG_THIS_NORM_PIXEL(maskBuffer);\n\t\t\tvec4 colorL = IMG_NORM_PIXEL(maskBuffer, left_coord);\n\t\t\tvec4 colorR = IMG_NORM_PIXEL(maskBuffer, right_coord);\n\t\t\tvec4 colorA = IMG_NORM_PIXEL(maskBuffer, above_coord);\n\t\t\tvec4 colorB = IMG_NORM_PIXEL(maskBuffer, below_coord);\n\n\t\t\tvec4 colorLA = IMG_NORM_PIXEL(maskBuffer, lefta_coord);\n\t\t\tvec4 colorRA = IMG_NORM_PIXEL(maskBuffer, righta_coord);\n\t\t\tvec4 colorLB = IMG_NORM_PIXEL(maskBuffer, leftb_coord);\n\t\t\tvec4 colorRB = IMG_NORM_PIXEL(maskBuffer, rightb_coord);\n\n\t\t\t//\tblur then sharpen the feedback buffer\n\t\t\tvec4 blurVector = (color + colorL + colorR + colorA + colorB + colorLA + colorRA + colorLB + colorRB) / 9.0;\n\t\t\tgl_FragColor = mask + maskHold * blurVector;\n\t\t}\n\t}\n\telse if (PASSINDEX == 1)\t{\t\n\t\t//\there we just buffer the current frame for next TIME\n\t\tgl_FragColor = IMG_THIS_PIXEL(inputImage);\n\t}\n\telse\t{\n\t\t//\tNOW DO SOMETHING WITH THE MASK - BLUR THE IMAGE AND THE MASK IMAGE\n\t\t\n\t\t//\tblur the mask image\n\t\tvec2 texcoord0 = isf_FragNormCoord.xy;\n\t\t\n\t\tvec4 color = IMG_THIS_NORM_PIXEL(maskBuffer);\n\t\tvec4 colorL = IMG_NORM_PIXEL(maskBuffer, left_coord);\n\t\tvec4 colorR = IMG_NORM_PIXEL(maskBuffer, right_coord);\n\t\tvec4 colorA = IMG_NORM_PIXEL(maskBuffer, above_coord);\n\t\tvec4 colorB = IMG_NORM_PIXEL(maskBuffer, below_coord);\n\n\t\tvec4 colorLA = IMG_NORM_PIXEL(maskBuffer, lefta_coord);\n\t\tvec4 colorRA = IMG_NORM_PIXEL(maskBuffer, righta_coord);\n\t\tvec4 colorLB = IMG_NORM_PIXEL(maskBuffer, leftb_coord);\n\t\tvec4 colorRB = IMG_NORM_PIXEL(maskBuffer, rightb_coord);\n\t\t\n\t\tvec4 blurVector = (color + colorL + colorR + colorA + colorB + colorLA + colorRA + colorLB + colorRB) / 9.0;\n\t\t//vec4 blurVector = IMG_THIS_PIXEL(maskBuffer);\n\t\t\n\t\tvec2 blurAmount = vec2(blurVector.y-blurVector.x, blurVector.w-blurVector.z);\n\t\tvec2 tmp = texcoord0 + blurAmount * amt;\n\t\ttmp.x = clamp(tmp.x,0.0,1.0);\n\t\ttmp.y = clamp(tmp.y,0.0,1.0);\n\t\tvec4 sample0 = IMG_NORM_PIXEL(inputImage, tmp);\n\t\ttmp = (1.02 + texcoord0) + blurAmount * amt * amt;\n\t\ttmp.x = clamp(tmp.x,0.0,1.0);\n\t\ttmp.y = clamp(tmp.y,0.0,1.0);\n\t\tvec4 sample1 = IMG_NORM_PIXEL(inputImage, tmp);\n\t\tgl_FragColor = (sample0 * 3.0 + sample1) / 4.0;\n\t}\n}\n","Inlets":[{"uuid":"5ac86198-2d03-4830-9e41-a6d529922d29","ObjectName":"Inlet","id":0,"Hidden":false,"Custom":"inputImage","Exposed":"inputimage","Format":0,"Filter":2,"AddressMode":1},{"uuid":"af2b4fc3-aecb-4c15-a5aa-1c573a239925","ObjectName":"Inlet","id":1,"Hidden":true,"Custom":"amt","Exposed":"amt","Value":{"Float":0.0},"Init":{"Float":0.5},"Domain":{"Float":{"Min":0.0,"Max":1.0}}},{"uuid":"af2b4fc3-aecb-4c15-a5aa-1c573a239925","ObjectName":"Inlet","id":2,"Hidden":true,"Custom":"maskHold","Exposed":"maskhold","Value":{"Float":0.8002330660820007},"Init":{"Float":0.9800000190734863},"Domain":{"Float":{"Min":0.0,"Max":1.0}}},{"uuid":"af2b4fc3-aecb-4c15-a5aa-1c573a239925","ObjectName":"Inlet","id":3,"Hidden":true,"Custom":"inputScale","Exposed":"inputscale","Value":{"Float":10.0},"Init":{"Float":2.0},"Domain":{"Float":{"Min":0.0,"Max":10.0}}},{"uuid":"af2b4fc3-aecb-4c15-a5aa-1c573a239925","ObjectName":"Inlet","id":4,"Hidden":true,"Custom":"inputOffset","Exposed":"inputoffset","Value":{"Float":0.7502330541610718},"Init":{"Float":0.10000000149011612},"Domain":{"Float":{"Min":0.0,"Max":1.0}}},{"uuid":"af2b4fc3-aecb-4c15-a5aa-1c573a239925","ObjectName":"Inlet","id":5,"Hidden":true,"Custom":"inputLambda","Exposed":"inputlambda","Value":{"Float":1.0},"Init":{"Float":1.0},"Domain":{"Float":{"Min":0.0,"Max":1.0}}},{"uuid":"feb87e84-e0d2-428f-96ff-a123ac964f59","ObjectName":"Inlet","id":6,"Hidden":true,"Custom":"resetNow","Exposed":"resetnow","Value":{"Bool":false},"Init":{"Bool":false},"Domain":{"Bool":null}}],"Outlets":[{"uuid":"f1c71046-b754-49a5-8e66-d01374773dfc","ObjectName":"Outlet","id":1,"Hidden":false,"Custom":"Texture Out","Exposed":"texture out","Address":"Window:/"}]},{"uuid":"74ca45ff-92c9-44a0-8f1a-754dea05ee1b","ObjectName":"gfxProcess","id":13,"Metadata":{"ScriptingName":"Edge Blur","Comment":"","Color":"Transparent1","Label":"","Touched":true},"Duration":10584000000,"Height":300.0,"StartOffset":0,"LoopDuration":10584000000,"Pos":[68.1875,-312.0],"Size":[88.6875,22.0],"Loops":false,"Vertex":"#if __VERSION__ <= 120\nvarying vec2\t\ttexOffsets[5];\n\nvarying vec2 left_coord;\nvarying vec2 right_coord;\nvarying vec2 above_coord;\nvarying vec2 below_coord;\n\nvarying vec2 lefta_coord;\nvarying vec2 righta_coord;\nvarying vec2 leftb_coord;\nvarying vec2 rightb_coord;\n#else\nout vec2\t\ttexOffsets[5];\n\nout vec2 left_coord;\nout vec2 right_coord;\nout vec2 above_coord;\nout vec2 below_coord;\n\nout vec2 lefta_coord;\nout vec2 righta_coord;\nout vec2 leftb_coord;\nout vec2 rightb_coord;\n#endif\n\nvoid main(void)\t{\n\t//\tload the main shader stuff\n\tisf_vertShaderInit();\n\t\n\t\n\tint\t\t\tblurLevel = int(floor(blurAmount/6.0));\n\tfloat\t\tblurLevelModulus = mod(blurAmount, 6.0);\n\tfloat\t\tblurRadius = 0.0;\n\tfloat\t\tblurRadiusInPixels = 0.0;\n\t//\tfirst three passes are just drawing the texture- do nothing\n\t\n\t//\tthe next four passes do gaussion blurs on the various levels\n\tif (PASSINDEX==3 || PASSINDEX==5)\t{\n\t\tfloat\t\tpixelWidth = 1.0/RENDERSIZE.x;\n\t\t//\tpass 3 is sampling 1/12, but writing to 1/4\n\t\tif (PASSINDEX==3)\t{\n\t\t\tif (blurLevel==1)\n\t\t\t\tblurRadius = blurLevelModulus/1.5;\n\t\t\telse if (blurLevel>1)\n\t\t\t\tblurRadius = 4.0;\n\t\t}\n\t\t//\tpass 5 is sampling 1/4 and writing to full-size\n\t\telse if (PASSINDEX==5)\t{\n\t\t\tif (blurLevel==0)\n\t\t\t\tblurRadius = blurLevelModulus;\n\t\t\telse if (blurLevel>0)\n\t\t\t\tblurRadius = 6.0;\n\t\t}\n\t\tblurRadiusInPixels = pixelWidth * blurRadius;\n\t\ttexOffsets[0] = isf_FragNormCoord;\n\t\ttexOffsets[1] = (blurRadius==0.0) ? isf_FragNormCoord : clamp(vec2(isf_FragNormCoord[0]-blurRadiusInPixels, isf_FragNormCoord[1]),0.0,1.0);\n\t\ttexOffsets[2] = (blurRadius==0.0) ? isf_FragNormCoord : clamp(vec2(isf_FragNormCoord[0]+blurRadiusInPixels, isf_FragNormCoord[1]),0.0,1.0);\n\t\tif (PASSINDEX==3)\t{\n\t\t\ttexOffsets[3] = (blurRadius==0.0) ? isf_FragNormCoord : clamp(vec2(isf_FragNormCoord[0]-(2.0*blurRadiusInPixels), isf_FragNormCoord[1]),0.0,1.0);\n\t\t\ttexOffsets[4] = (blurRadius==0.0) ? isf_FragNormCoord : clamp(vec2(isf_FragNormCoord[0]+(2.0*blurRadiusInPixels), isf_FragNormCoord[1]),0.0,1.0);\n\t\t}\n\t}\n\telse if (PASSINDEX==4 || PASSINDEX==6)\t{\n\t\tfloat\t\tpixelHeight = 1.0/RENDERSIZE.y;\n\t\t//\tpass 4 is sampling 1/12, but writing to 1/4\n\t\tif (PASSINDEX==4)\t{\n\t\t\tif (blurLevel==1)\n\t\t\t\tblurRadius = blurLevelModulus/1.5;\n\t\t\telse if (blurLevel>1)\n\t\t\t\tblurRadius = 4.0;\n\t\t}\n\t\t//\tpass 6 is sampling 1/4 and writing to full-size\n\t\telse if (PASSINDEX==6)\t{\n\t\t\tif (blurLevel==0)\n\t\t\t\tblurRadius = blurLevelModulus;\n\t\t\telse if (blurLevel>0)\n\t\t\t\tblurRadius = 6.0;\n\t\t\t\n\t\t\tvec2 texc = vec2(isf_FragNormCoord[0],isf_FragNormCoord[1]);\n\t\t\tvec2 d = 1.0/RENDERSIZE;\n\t\t\n\t\t\tleft_coord = clamp(vec2(texc.xy + vec2(-d.x , 0)),0.0,1.0);\n\t\t\tright_coord = clamp(vec2(texc.xy + vec2(d.x , 0)),0.0,1.0);\n\t\t\tabove_coord = clamp(vec2(texc.xy + vec2(0,d.y)),0.0,1.0);\n\t\t\tbelow_coord = clamp(vec2(texc.xy + vec2(0,-d.y)),0.0,1.0);\n\t\n\t\t\tlefta_coord = clamp(vec2(texc.xy + vec2(-d.x , d.x)),0.0,1.0);\n\t\t\trighta_coord = clamp(vec2(texc.xy + vec2(d.x , d.x)),0.0,1.0);\n\t\t\tleftb_coord = clamp(vec2(texc.xy + vec2(-d.x , -d.x)),0.0,1.0);\n\t\t\trightb_coord = clamp(vec2(texc.xy + vec2(d.x , -d.x)),0.0,1.0);\n\t\t}\n\t\tblurRadiusInPixels = pixelHeight * blurRadius;\n\t\ttexOffsets[0] = isf_FragNormCoord;\n\t\ttexOffsets[1] = (blurRadius==0.0) ? isf_FragNormCoord : clamp(vec2(isf_FragNormCoord[0], isf_FragNormCoord[1]-blurRadiusInPixels),0.0,1.0);\n\t\ttexOffsets[2] = (blurRadius==0.0) ? isf_FragNormCoord : clamp(vec2(isf_FragNormCoord[0], isf_FragNormCoord[1]+blurRadiusInPixels),0.0,1.0);\n\t\tif (PASSINDEX==4)\t{\n\t\t\ttexOffsets[3] = (blurRadius==0.0) ? isf_FragNormCoord : clamp(vec2(isf_FragNormCoord[0], isf_FragNormCoord[1]-(2.0*blurRadiusInPixels)),0.0,1.0);\n\t\t\ttexOffsets[4] = (blurRadius==0.0) ? isf_FragNormCoord : clamp(vec2(isf_FragNormCoord[0], isf_FragNormCoord[1]+(2.0*blurRadiusInPixels)),0.0,1.0);\n\t\t}\n\t}\n\t\n}\n","Fragment":"/*{\n\t\"CREDIT\": \"by zoidberg\",\n\t\"ISFVSN\": \"2\",\n\t\"CATEGORIES\": [\n\t\t\"Blur\"\n\t],\n\t\"INPUTS\": [\n\t\t{\n\t\t\t\"NAME\": \"inputImage\",\n\t\t\t\"TYPE\": \"image\"\n\t\t},\n\t\t{\n\t\t\t\"NAME\": \"intensity\",\n\t\t\t\"TYPE\": \"float\",\n\t\t\t\"MIN\": 0.0,\n\t\t\t\"MAX\": 20.0,\n\t\t\t\"DEFAULT\": 5.0\n\t\t},\n\t\t{\n\t\t\t\"NAME\": \"blurAmount\",\n\t\t\t\"TYPE\": \"float\",\n\t\t\t\"MIN\": 0.0,\n\t\t\t\"MAX\": 24.0,\n\t\t\t\"DEFAULT\": 10.0\n\t\t},\n\t\t{\n\t\t\t\"NAME\": \"invert_map\",\n\t\t\t\"TYPE\": \"bool\",\n\t\t\t\"DEFAULT\": 0.0\n\t\t}\n\t],\n\t\"PASSES\": [\n\t\t{\n\t\t\t\"TARGET\": \"halfSizeBaseRender\",\n\t\t\t\"WIDTH\": \"floor($WIDTH/2.0)\",\n\t\t\t\"HEIGHT\": \"floor($HEIGHT/2.0)\",\n\t\t\t\"DESCRIPTION\": \"Pass 0\"\n\t\t},\n\t\t{\n\t\t\t\"TARGET\": \"quarterSizeBaseRender\",\n\t\t\t\"WIDTH\": \"floor($WIDTH/4.0)\",\n\t\t\t\"HEIGHT\": \"floor($HEIGHT/4.0)\",\n\t\t\t\"DESCRIPTION\": \"Pass 1\"\n\t\t},\n\t\t{\n\t\t\t\"TARGET\": \"eighthSizeBaseRender\",\n\t\t\t\"WIDTH\": \"floor($WIDTH/8.0)\",\n\t\t\t\"HEIGHT\": \"floor($HEIGHT/8.0)\",\n\t\t\t\"DESCRIPTION\": \"Pass 2\"\n\t\t},\n\t\t{\n\t\t\t\"TARGET\": \"quarterGaussA\",\n\t\t\t\"WIDTH\": \"floor($WIDTH/4.0)\",\n\t\t\t\"HEIGHT\": \"floor($HEIGHT/4.0)\",\n\t\t\t\"DESCRIPTION\": \"Pass 3\"\n\t\t},\n\t\t{\n\t\t\t\"TARGET\": \"quarterGaussB\",\n\t\t\t\"WIDTH\": \"floor($WIDTH/4.0)\",\n\t\t\t\"HEIGHT\": \"floor($HEIGHT/4.0)\",\n\t\t\t\"DESCRIPTION\": \"Pass 4\"\n\t\t},\n\t\t{\n\t\t\t\"TARGET\": \"fullGaussA\",\n\t\t\t\"DESCRIPTION\": \"Pass 5\"\n\t\t},\n\t\t{\n\t\t\t\"TARGET\": \"fullGaussB\",\n\t\t\t\"DESCRIPTION\": \"Pass 6\"\n\t\t}\n\t]\n}*/\n\n#if __VERSION__ <= 120\nvarying vec2\t\ttexOffsets[5];\n\nvarying vec2 left_coord;\nvarying vec2 right_coord;\nvarying vec2 above_coord;\nvarying vec2 below_coord;\n\nvarying vec2 lefta_coord;\nvarying vec2 righta_coord;\nvarying vec2 leftb_coord;\nvarying vec2 rightb_coord;\n#else\nin vec2\t\ttexOffsets[5];\nin vec2 left_coord;\nin vec2 right_coord;\nin vec2 above_coord;\nin vec2 below_coord;\n\nin vec2 lefta_coord;\nin vec2 righta_coord;\nin vec2 leftb_coord;\nin vec2 rightb_coord;\n#endif\n\n\nfloat gray(vec4 n)\n{\n\treturn (n.r + n.g + n.b)/3.0;\n}\n\n\nvoid main() {\n\tint\t\t\tblurLevel = int(floor(blurAmount/6.0));\n\tfloat\t\tblurLevelModulus = mod(blurAmount, 6.0);\n\t//\tfirst three passes are just copying the input image into the buffer at varying sizes\n\tif (PASSINDEX==0)\t{\n\t\tgl_FragColor = IMG_NORM_PIXEL(inputImage, isf_FragNormCoord);\n\t}\n\telse if (PASSINDEX==1)\t{\n\t\tgl_FragColor = IMG_NORM_PIXEL(halfSizeBaseRender, isf_FragNormCoord);\n\t}\n\telse if (PASSINDEX==2)\t{\n\t\tgl_FragColor = IMG_NORM_PIXEL(quarterSizeBaseRender, isf_FragNormCoord);\n\t}\n\t//\tstart reading from the previous stage- each two passes completes a gaussian blur, then \n\t//\twe increase the resolution & blur (the lower-res blurred image from the previous pass) again...\n\telse if (PASSINDEX == 3)\t{\n\t\tvec4\t\tsample0 = IMG_NORM_PIXEL(eighthSizeBaseRender,texOffsets[0]);\n\t\tvec4\t\tsample1 = IMG_NORM_PIXEL(eighthSizeBaseRender,texOffsets[1]);\n\t\tvec4\t\tsample2 = IMG_NORM_PIXEL(eighthSizeBaseRender,texOffsets[2]);\n\t\tvec4\t\tsample3 = IMG_NORM_PIXEL(eighthSizeBaseRender,texOffsets[3]);\n\t\tvec4\t\tsample4 = IMG_NORM_PIXEL(eighthSizeBaseRender,texOffsets[4]);\n\t\t//gl_FragColor = vec4((sample0 + sample1 + sample2).rgb / (3.0), 1.0);\n\t\tgl_FragColor = vec4((sample0 + sample1 + sample2 + sample3 + sample4).rgba / (5.0));\n\t}\n\telse if (PASSINDEX == 4)\t{\n\t\tvec4\t\tsample0 = IMG_NORM_PIXEL(quarterGaussA,texOffsets[0]);\n\t\tvec4\t\tsample1 = IMG_NORM_PIXEL(quarterGaussA,texOffsets[1]);\n\t\tvec4\t\tsample2 = IMG_NORM_PIXEL(quarterGaussA,texOffsets[2]);\n\t\tvec4\t\tsample3 = IMG_NORM_PIXEL(quarterGaussA,texOffsets[3]);\n\t\tvec4\t\tsample4 = IMG_NORM_PIXEL(quarterGaussA,texOffsets[4]);\n\t\t//gl_FragColor = vec4((sample0 + sample1 + sample2).rgb / (3.0), 1.0);\n\t\tgl_FragColor = vec4((sample0 + sample1 + sample2 + sample3 + sample4).rgba / (5.0));\n\t}\n\t//\t...writes into the full-size\n\telse if (PASSINDEX == 5)\t{\n\t\tvec4\t\tsample0 = IMG_NORM_PIXEL(quarterGaussB,texOffsets[0]);\n\t\tvec4\t\tsample1 = IMG_NORM_PIXEL(quarterGaussB,texOffsets[1]);\n\t\tvec4\t\tsample2 = IMG_NORM_PIXEL(quarterGaussB,texOffsets[2]);\n\t\tgl_FragColor =  vec4((sample0 + sample1 + sample2).rgba / (3.0));\n\t}\n\telse if (PASSINDEX == 6)\t{\n\t\t//\tthis is the last pass- calculate the blurred image as i have in previous passes, then mix it in with the full-size input image using the blur amount so i get a smooth transition into the blur at low blur levels\n\t\tvec4\t\tsample0 = IMG_NORM_PIXEL(fullGaussA,texOffsets[0]);\n\t\tvec4\t\tsample1 = IMG_NORM_PIXEL(fullGaussA,texOffsets[1]);\n\t\tvec4\t\tsample2 = IMG_NORM_PIXEL(fullGaussA,texOffsets[2]);\n\t\tvec4\t\tblurredImg =  vec4((sample0 + sample1 + sample2).rgba / (3.0));\n\t\tvec4\t\torigImg = IMG_NORM_PIXEL(inputImage,isf_FragNormCoord);\n\t\t\n\t\t\n\t\t\n\t\tvec4 colorL = IMG_NORM_PIXEL(inputImage, left_coord);\n\t\tvec4 colorR = IMG_NORM_PIXEL(inputImage, right_coord);\n\t\tvec4 colorA = IMG_NORM_PIXEL(inputImage, above_coord);\n\t\tvec4 colorB = IMG_NORM_PIXEL(inputImage, below_coord);\n\n\t\tvec4 colorLA = IMG_NORM_PIXEL(inputImage, lefta_coord);\n\t\tvec4 colorRA = IMG_NORM_PIXEL(inputImage, righta_coord);\n\t\tvec4 colorLB = IMG_NORM_PIXEL(inputImage, leftb_coord);\n\t\tvec4 colorRB = IMG_NORM_PIXEL(inputImage, rightb_coord);\n\t\t\n\t\tfloat\t\tgx = (-1.0 * gray(colorLA)) + (-2.0 * gray(colorL)) + (-1.0 * gray(colorLB)) + (1.0 * gray(colorRA)) + (2.0 * gray(colorR)) + (1.0 * gray(colorRB));\n\t\tfloat\t\tgy = (1.0 * gray(colorLA)) + (2.0 * gray(colorA)) + (1.0 * gray(colorRA)) + (-1.0 * gray(colorRB)) + (-2.0 * gray(colorB)) + (-1.0 * gray(colorLB));\n\t\tfloat\t\tedge = 0.0;\n\t\tedge = intensity * pow(gx*gx + gy*gy,0.5);\n\t\tif (invert_map)\t{\n\t\t\tedge = 1.0 - edge;\n\t\t}\n\t\t\n\t\tblurredImg = mix(blurredImg, origImg, edge);\n\t\t\n\t\t\n\t\t\n\t\tif (blurLevel == 0)\n\t\t\tgl_FragColor = mix(origImg, blurredImg, (blurLevelModulus/6.1));\n\t\telse\n\t\t\tgl_FragColor = blurredImg;\n\t}\n\t\n}\n","Inlets":[{"uuid":"5ac86198-2d03-4830-9e41-a6d529922d29","ObjectName":"Inlet","id":0,"Hidden":false,"Custom":"inputImage","Exposed":"inputimage","Format":0,"Filter":2,"AddressMode":1},{"uuid":"af2b4fc3-aecb-4c15-a5aa-1c573a239925","ObjectName":"Inlet","id":1,"Hidden":true,"Custom":"intensity","Exposed":"intensity","Value":{"Float":0.0},"Init":{"Float":5.0},"Domain":{"Float":{"Min":0.0,"Max":20.0}}},{"uuid":"af2b4fc3-aecb-4c15-a5aa-1c573a239925","ObjectName":"Inlet","id":2,"Hidden":true,"Custom":"blurAmount","Exposed":"bluramount","Value":{"Float":24.0},"Init":{"Float":10.0},"Domain":{"Float":{"Min":0.0,"Max":24.0}}},{"uuid":"fb27e4cb-ea7f-41e2-ad92-2354498c1b6b","ObjectName":"Inlet","id":3,"Hidden":true,"Custom":"invert_map","Exposed":"invert_map","Value":{"Bool":false},"Init":{"Bool":false},"Domain":{"Bool":null}}],"Outlets":[{"uuid":"f1c71046-b754-49a5-8e66-d01374773dfc","ObjectName":"Outlet","id":1,"Hidden":false,"Custom":"Texture Out","Exposed":"texture out"}]},{"uuid":"74ca45ff-92c9-44a0-8f1a-754dea05ee1b","ObjectName":"gfxProcess","id":12,"Metadata":{"ScriptingName":"Color Blowout","Comment":"","Color":"Transparent1","Label":"","Touched":true},"Duration":10584000000,"Height":300.0,"StartOffset":0,"LoopDuration":10584000000,"Pos":[-123.5,-309.0],"Size":[88.6875,22.0],"Loops":false,"Vertex":"#if __VERSION__ <= 120\nvarying vec2 left_coord;\nvarying vec2 right_coord;\nvarying vec2 above_coord;\nvarying vec2 below_coord;\n\nvarying vec2 lefta_coord;\nvarying vec2 righta_coord;\nvarying vec2 leftb_coord;\nvarying vec2 rightb_coord;\n#else\nout vec2 left_coord;\nout vec2 right_coord;\nout vec2 above_coord;\nout vec2 below_coord;\n\nout vec2 lefta_coord;\nout vec2 righta_coord;\nout vec2 leftb_coord;\nout vec2 rightb_coord;\n#endif\n\n\nvoid main()\n{\n\tisf_vertShaderInit();\n\tvec2 texc = vec2(isf_FragNormCoord[0],isf_FragNormCoord[1]);\n\tvec2 d = 1.0/RENDERSIZE;\n\n\tleft_coord = clamp(vec2(texc.xy + vec2(-d.x , 0)),0.0,1.0);\n\tright_coord = clamp(vec2(texc.xy + vec2(d.x , 0)),0.0,1.0);\n\tabove_coord = clamp(vec2(texc.xy + vec2(0,d.y)),0.0,1.0);\n\tbelow_coord = clamp(vec2(texc.xy + vec2(0,-d.y)),0.0,1.0);\n\n\tlefta_coord = clamp(vec2(texc.xy + vec2(-d.x , d.x)),0.0,1.0);\n\trighta_coord = clamp(vec2(texc.xy + vec2(d.x , d.x)),0.0,1.0);\n\tleftb_coord = clamp(vec2(texc.xy + vec2(-d.x , -d.x)),0.0,1.0);\n\trightb_coord = clamp(vec2(texc.xy + vec2(d.x , -d.x)),0.0,1.0);\n}","Fragment":"/*\n{\n  \"CATEGORIES\" : [\n    \"Stylize\", \"Color Effect\"\n  ],\n  \"ISFVSN\" : \"2\",\n  \"INPUTS\" : [\n    {\n      \"NAME\" : \"inputImage\",\n      \"TYPE\" : \"image\"\n    },\n    {\n      \"NAME\" : \"intensity\",\n      \"TYPE\" : \"float\",\n      \"MAX\" : 1,\n      \"DEFAULT\" : 0,\n      \"MIN\" : -1\n    }\n  ],\n  \"PASSES\" : [\n    {\n      \"TARGET\" : \"pass1\"\n    },\n    {\n      \"TARGET\" : \"pass2\"\n    },\n    {\n      \"TARGET\" : \"pass3\"\n    }\n  ],\n  \"CREDIT\" : \"by VIDVOX\"\n}\n*/\n\n#if __VERSION__ <= 120\nvarying vec2 left_coord;\nvarying vec2 right_coord;\nvarying vec2 above_coord;\nvarying vec2 below_coord;\n\nvarying vec2 lefta_coord;\nvarying vec2 righta_coord;\nvarying vec2 leftb_coord;\nvarying vec2 rightb_coord;\n#else\nin vec2 left_coord;\nin vec2 right_coord;\nin vec2 above_coord;\nin vec2 below_coord;\n\nin vec2 lefta_coord;\nin vec2 righta_coord;\nin vec2 leftb_coord;\nin vec2 rightb_coord;\n#endif\n\nfloat gray(vec4 n)\n{\n\treturn (n.r + n.g + n.b)/3.0;\n}\n\nvoid main()\n{\n\tvec4 final = vec4(0.0);\n\n\tif (PASSINDEX == 0)\t{\n\t\tvec4 color = IMG_THIS_PIXEL(inputImage);\n\t\tvec4 colorL = (IMG_NORM_PIXEL(inputImage, left_coord));\n\t\tvec4 colorR = (IMG_NORM_PIXEL(inputImage, right_coord));\n\t\tvec4 colorA = (IMG_NORM_PIXEL(inputImage, above_coord));\n\t\tvec4 colorB = (IMG_NORM_PIXEL(inputImage, below_coord));\n\n\t\tvec4 colorLA = (IMG_NORM_PIXEL(inputImage, lefta_coord));\n\t\tvec4 colorRA = (IMG_NORM_PIXEL(inputImage, righta_coord));\n\t\tvec4 colorLB = (IMG_NORM_PIXEL(inputImage, leftb_coord));\n\t\tvec4 colorRB = (IMG_NORM_PIXEL(inputImage, rightb_coord));\n\n\t\tfinal = color - color * intensity * (8.0*gray(color) - colorL - colorR - colorA - colorB - colorLA - colorRA - colorLB - colorRB);\n\t\tfinal.a = color.a;\n\t}\n\telse if (PASSINDEX == 1)\t{\n\t\tvec4 color = IMG_THIS_PIXEL(pass1);\n\t\tvec4 colorL = (IMG_NORM_PIXEL(pass1, left_coord));\n\t\tvec4 colorR = (IMG_NORM_PIXEL(pass1, right_coord));\n\t\tvec4 colorA = (IMG_NORM_PIXEL(pass1, above_coord));\n\t\tvec4 colorB = (IMG_NORM_PIXEL(pass1, below_coord));\n\n\t\tvec4 colorLA = (IMG_NORM_PIXEL(pass1, lefta_coord));\n\t\tvec4 colorRA = (IMG_NORM_PIXEL(pass1, righta_coord));\n\t\tvec4 colorLB = (IMG_NORM_PIXEL(pass1, leftb_coord));\n\t\tvec4 colorRB = (IMG_NORM_PIXEL(pass1, rightb_coord));\n\n\t\tfinal = (1.0 - abs(intensity)) * color + abs(intensity) * (colorL + colorR + colorA + colorB + colorLA + colorRA + colorLB + colorRB) / 8.0;\n\t\tfinal.a = color.a;\n\t}\n\telse if (PASSINDEX == 2)\t{\n\t\tvec4 color = IMG_THIS_PIXEL(pass2);\n\t\tvec4 colorL = (IMG_NORM_PIXEL(pass2, left_coord));\n\t\tvec4 colorR = (IMG_NORM_PIXEL(pass2, right_coord));\n\t\tvec4 colorA = (IMG_NORM_PIXEL(pass2, above_coord));\n\t\tvec4 colorB = (IMG_NORM_PIXEL(pass2, below_coord));\n\n\t\tvec4 colorLA = (IMG_NORM_PIXEL(pass2, lefta_coord));\n\t\tvec4 colorRA = (IMG_NORM_PIXEL(pass2, righta_coord));\n\t\tvec4 colorLB = (IMG_NORM_PIXEL(pass2, leftb_coord));\n\t\tvec4 colorRB = (IMG_NORM_PIXEL(pass2, rightb_coord));\n\n\t\tfinal = color - color * intensity * (8.0*gray(color) - colorL - colorR - colorA - colorB - colorLA - colorRA - colorLB - colorRB);\n\t\tfinal.a = color.a;\n\t}\n\n\n\n\tgl_FragColor = final;\n}\n\n","Inlets":[{"uuid":"5ac86198-2d03-4830-9e41-a6d529922d29","ObjectName":"Inlet","id":0,"Hidden":false,"Custom":"inputImage","Exposed":"inputimage","Address":"Camera:/","Format":0,"Filter":2,"AddressMode":1},{"uuid":"af2b4fc3-aecb-4c15-a5aa-1c573a239925","ObjectName":"Inlet","id":1,"Hidden":true,"Custom":"intensity","Exposed":"intensity","Value":{"Float":-1.0},"Init":{"Float":0.0},"Domain":{"Float":{"Min":-1.0,"Max":1.0}}}],"Outlets":[{"uuid":"f1c71046-b754-49a5-8e66-d01374773dfc","ObjectName":"Outlet","id":1,"Hidden":false,"Custom":"Texture Out","Exposed":"texture out"}]},{"uuid":"5d4057ff-d8d0-4d66-9e0f-55675e3323be","ObjectName":"Process::ProcessModel","id":4,"Metadata":{"ScriptingName":"RMS","Comment":"","Color":"Transparent1","Label":"","Touched":true},"Duration":10584000000,"Height":300.0,"StartOffset":0,"LoopDuration":10584000000,"Pos":[-914.5,-276.0],"Size":[75.0,22.0],"Loops":false,"Inlets":[{"uuid":"a1574bb0-cbd4-4c7d-9417-0c25cfd1187b","ObjectName":"Inlet","id":0,"Hidden":false,"Custom":"in","Exposed":"in","Address":"audio:/in/main"},{"uuid":"5554eb67-bcc8-45ab-8ec2-37a3f191aa64","ObjectName":"Inlet","id":1,"Hidden":true,"Custom":"Gain","Exposed":"gain","Value":{"Float":15.349297523498535},"Init":{},"Domain":{"Float":{"Min":0.0,"Max":100.0}}},{"uuid":"af2b4fc3-aecb-4c15-a5aa-1c573a239925","ObjectName":"Inlet","id":2,"Hidden":true,"Custom":"Gate","Exposed":"gate","Value":{"Float":0.0},"Init":{},"Domain":{"Float":{"Min":0.0,"Max":1.0}}}],"Outlets":[{"uuid":"cff96158-cc72-46d7-99dc-b6038171375b","ObjectName":"Outlet","id":0,"Hidden":false,"Custom":"out","Exposed":"out"}]},{"uuid":"25c64b87-a44a-4fed-9f60-0a48906fd3ec","ObjectName":"Process::ProcessModel","id":6,"Metadata":{"ScriptingName":"Micromap","Comment":"","Color":"Transparent1","Label":"","Touched":true},"Duration":10584000000,"Height":300.0,"StartOffset":0,"LoopDuration":10584000000,"Pos":[-387.5,-71.0],"Size":[184.0,35.0],"Loops":false,"Inlets":[{"uuid":"769dd38a-bfb3-4dc6-b52a-b6abb7afe2a3","ObjectName":"Inlet","id":0,"Hidden":false,"Custom":"in","Exposed":"in"},{"uuid":"9ae797ea-d94c-4792-acec-9ec1932bae5d","ObjectName":"Inlet","id":1,"Hidden":true,"Custom":"Expression","Exposed":"expression","Value":{"String":"5( xv[0] - 0.5)"},"Init":{},"Domain":{}}],"Outlets":[{"uuid":"cff96158-cc72-46d7-99dc-b6038171375b","ObjectName":"Outlet","id":0,"Hidden":false,"Custom":"out","Exposed":"out"}]},{"uuid":"25c64b87-a44a-4fed-9f60-0a48906fd3ec","ObjectName":"Process::ProcessModel","id":7,"Metadata":{"ScriptingName":"Micromap.8","Comment":"","Color":"Transparent1","Label":"","Touched":true},"Duration":10584000000,"Height":300.0,"StartOffset":0,"LoopDuration":10584000000,"Pos":[-394.5,-282.0],"Size":[184.0,35.0],"Loops":false,"Inlets":[{"uuid":"769dd38a-bfb3-4dc6-b52a-b6abb7afe2a3","ObjectName":"Inlet","id":0,"Hidden":false,"Custom":"in","Exposed":"in"},{"uuid":"9ae797ea-d94c-4792-acec-9ec1932bae5d","ObjectName":"Inlet","id":1,"Hidden":true,"Custom":"Expression","Exposed":"expression","Value":{"String":"0.2(xv[0] - 0.5)"},"Init":{},"Domain":{}}],"Outlets":[{"uuid":"cff96158-cc72-46d7-99dc-b6038171375b","ObjectName":"Outlet","id":0,"Hidden":false,"Custom":"out","Exposed":"out"}]},{"uuid":"bf603921-5a48-4aa5-9bc1-48a762be6467","ObjectName":"Process::ProcessModel","id":8,"Metadata":{"ScriptingName":"Smooth","Comment":"","Color":"Transparent1","Label":"","Touched":true},"Duration":10584000000,"Height":300.0,"StartOffset":0,"LoopDuration":10584000000,"Pos":[-772.5,-276.0],"Size":[75.0,22.0],"Loops":false,"Inlets":[{"uuid":"769dd38a-bfb3-4dc6-b52a-b6abb7afe2a3","ObjectName":"Inlet","id":0,"Hidden":false,"Custom":"in","Exposed":"in"},{"uuid":"8b1d76c4-3838-4ac0-9b9c-c12bc5db8e8a","ObjectName":"Inlet","id":1,"Hidden":true,"Custom":"Type","Exposed":"type","Value":{"String":"OneEuro"},"Init":{},"Domain":{"String":{"Values":["OneEuro","LowPass","Average","Median"]}},"Values":["OneEuro","LowPass","Average","Median"],"Pixmaps":[]},{"uuid":"82427d27-084a-4ab6-9c4e-db83929a1200","ObjectName":"Inlet","id":2,"Hidden":true,"Custom":"Amount","Exposed":"amount","Value":{"Float":1.0},"Init":{},"Domain":{"Float":{"Min":0.0,"Max":1.0}}},{"uuid":"5554eb67-bcc8-45ab-8ec2-37a3f191aa64","ObjectName":"Inlet","id":3,"Hidden":true,"Custom":"Freq (1e/LP)","Exposed":"freq (1e_lp)","Value":{"Float":300.0},"Init":{},"Domain":{"Float":{"Min":0.0010000000474974513,"Max":300.0}}},{"uuid":"5554eb67-bcc8-45ab-8ec2-37a3f191aa64","ObjectName":"Inlet","id":4,"Hidden":true,"Custom":"Cutoff (1e/LP)","Exposed":"cutoff (1e_lp)","Value":{"Float":0.10100000351667404},"Init":{},"Domain":{"Float":{"Min":0.0010000000474974513,"Max":10.0}}},{"uuid":"af2b4fc3-aecb-4c15-a5aa-1c573a239925","ObjectName":"Inlet","id":5,"Hidden":true,"Custom":"Beta (1e only)","Exposed":"beta (1e only)","Value":{"Float":2.3885085582733154},"Init":{},"Domain":{"Float":{"Min":0.0010000000474974513,"Max":10.0}}},{"uuid":"fb27e4cb-ea7f-41e2-ad92-2354498c1b6b","ObjectName":"Inlet","id":6,"Hidden":true,"Custom":"Continuous","Exposed":"continuous","Value":{"Bool":true},"Init":{},"Domain":{"Bool":null}}],"Outlets":[{"uuid":"cff96158-cc72-46d7-99dc-b6038171375b","ObjectName":"Outlet","id":0,"Hidden":false,"Custom":"out","Exposed":"out"}]}],"SmallViewRack":[{"Processes":[4,6,7,8,12,13,14,16,17,21,22,23,24],"Process":null,"Height":50.0,"Nodal":true}],"FullViewRack":[{"Process":0,"Nodal":true}],"DefaultDuration":10584000000,"MinDuration":10584000000,"MaxDuration":11113200000,"GuiDuration":11642400000,"Speed":1.0,"Rigidity":false,"MinNull":false,"MaxInf":true,"Signatures":[[0,[4,4]]],"StartState":0,"EndState":1,"StartDate":0,"HeightPercentage":0.0,"NodalSlotHeight":100.0,"QuantizationRate":-1.0,"Zoom":809061.8485059069,"Center":581715469,"NodalOffset":[-25.0,119.0],"ViewMode":1,"SmallViewShown":true,"HasSignature":true},"StartTimeNode":{"ObjectName":"Scenario::TimeSyncModel","id":0,"Metadata":{"ScriptingName":"Sync.start","Comment":"","Color":"Gray","Label":"","Touched":true},"Date":0,"Events":[0],"MusicalSync":-1.0,"AutoTrigger":false,"Start":true,"Active":false,"Expression":" { true == false } "},"EndTimeNode":{"ObjectName":"Scenario::TimeSyncModel","id":1,"Metadata":{"ScriptingName":"Sync.end","Comment":"","Color":"Gray","Label":"","Touched":true},"Date":10584000000,"Events":[1],"MusicalSync":-1.0,"AutoTrigger":false,"Start":false,"Active":true,"Expression":" { true == false } "},"StartEvent":{"ObjectName":"Scenario::EventModel","id":0,"Metadata":{"ScriptingName":"Event.start","Comment":"","Color":"Emphasis4","Label":"","Touched":true},"TimeNode":0,"States":[0],"Condition":"","Date":0,"Offset":0},"EndEvent":{"ObjectName":"Scenario::EventModel","id":1,"Metadata":{"ScriptingName":"Event.end","Comment":"","Color":"Emphasis4","Label":"","Touched":true},"TimeNode":1,"States":[1],"Condition":"","Date":10584000000,"Offset":0},"StartState":{"ObjectName":"Scenario::StateModel","id":0,"Metadata":{"ScriptingName":"State.start","Comment":"","Color":"Base1","Label":"","Touched":true},"Event":0,"PreviousConstraint":null,"NextConstraint":0,"HeightPercentage":0.0,"Messages":{"Name":"","Accessors":[],"Unit":"none","Previous":[],"Following":[],"User":null,"Priorities":[1,2,0]},"Controls":[],"StateProcesses":[]},"EndState":{"ObjectName":"Scenario::StateModel","id":1,"Metadata":{"ScriptingName":"State.end","Comment":"","Color":"Base1","Label":"","Touched":true},"Event":1,"PreviousConstraint":0,"NextConstraint":null,"HeightPercentage":0.0,"Messages":{"Name":"","Accessors":[],"Unit":"none","Previous":[],"Following":[],"User":null,"Priorities":[1,2,0]},"Controls":[],"StateProcesses":[]}},"Speed":1.0,"Cables":[{"ObjectName":"Process::Cable","id":8,"Type":0,"Source":[{"ObjectName":"Scenario::ScenarioDocumentModel","ObjectId":1},{"ObjectName":"Scenario::BaseScenario","ObjectId":0},{"ObjectName":"Scenario::IntervalModel","ObjectId":0},{"ObjectName":"Process::ProcessModel","ObjectId":4},{"ObjectName":"Outlet","ObjectId":0}],"Sink":[{"ObjectName":"Scenario::ScenarioDocumentModel","ObjectId":1},{"ObjectName":"Scenario::BaseScenario","ObjectId":0},{"ObjectName":"Scenario::IntervalModel","ObjectId":0},{"ObjectName":"Process::ProcessModel","ObjectId":8},{"ObjectName":"Inlet","ObjectId":0}]},{"ObjectName":"Process::Cable","id":12,"Type":0,"Source":[{"ObjectName":"Scenario::ScenarioDocumentModel","ObjectId":1},{"ObjectName":"Scenario::BaseScenario","ObjectId":0},{"ObjectName":"Scenario::IntervalModel","ObjectId":0},{"ObjectName":"gfxProcess","ObjectId":13},{"ObjectName":"Outlet","ObjectId":1}],"Sink":[{"ObjectName":"Scenario::ScenarioDocumentModel","ObjectId":1},{"ObjectName":"Scenario::BaseScenario","ObjectId":0},{"ObjectName":"Scenario::IntervalModel","ObjectId":0},{"ObjectName":"gfxProcess","ObjectId":14},{"ObjectName":"Inlet","ObjectId":0}]},{"ObjectName":"Process::Cable","id":3,"Type":0,"Source":[{"ObjectName":"Scenario::ScenarioDocumentModel","ObjectId":1},{"ObjectName":"Scenario::BaseScenario","ObjectId":0},{"ObjectName":"Scenario::IntervalModel","ObjectId":0},{"ObjectName":"Process::ProcessModel","ObjectId":4},{"ObjectName":"Outlet","ObjectId":0}],"Sink":[{"ObjectName":"Scenario::ScenarioDocumentModel","ObjectId":1},{"ObjectName":"Scenario::BaseScenario","ObjectId":0},{"ObjectName":"Scenario::IntervalModel","ObjectId":0},{"ObjectName":"Process::ProcessModel","ObjectId":6},{"ObjectName":"Inlet","ObjectId":0}]},{"ObjectName":"Process::Cable","id":9,"Type":0,"Source":[{"ObjectName":"Scenario::ScenarioDocumentModel","ObjectId":1},{"ObjectName":"Scenario::BaseScenario","ObjectId":0},{"ObjectName":"Scenario::IntervalModel","ObjectId":0},{"ObjectName":"Process::ProcessModel","ObjectId":8},{"ObjectName":"Outlet","ObjectId":0}],"Sink":[{"ObjectName":"Scenario::ScenarioDocumentModel","ObjectId":1},{"ObjectName":"Scenario::BaseScenario","ObjectId":0},{"ObjectName":"Scenario::IntervalModel","ObjectId":0},{"ObjectName":"Process::ProcessModel","ObjectId":7},{"ObjectName":"Inlet","ObjectId":0}]},{"ObjectName":"Process::Cable","id":10,"Type":0,"Source":[{"ObjectName":"Scenario::ScenarioDocumentModel","ObjectId":1},{"ObjectName":"Scenario::BaseScenario","ObjectId":0},{"ObjectName":"Scenario::IntervalModel","ObjectId":0},{"ObjectName":"gfxProcess","ObjectId":12},{"ObjectName":"Outlet","ObjectId":1}],"Sink":[{"ObjectName":"Scenario::ScenarioDocumentModel","ObjectId":1},{"ObjectName":"Scenario::BaseScenario","ObjectId":0},{"ObjectName":"Scenario::IntervalModel","ObjectId":0},{"ObjectName":"gfxProcess","ObjectId":13},{"ObjectName":"Inlet","ObjectId":0}]},{"ObjectName":"Process::Cable","id":21,"Type":0,"Source":[{"ObjectName":"Scenario::ScenarioDocumentModel","ObjectId":1},{"ObjectName":"Scenario::BaseScenario","ObjectId":0},{"ObjectName":"Scenario::IntervalModel","ObjectId":0},{"ObjectName":"Peak_detection","ObjectId":17},{"ObjectName":"Outlet","ObjectId":0}],"Sink":[{"ObjectName":"Scenario::ScenarioDocumentModel","ObjectId":1},{"ObjectName":"Scenario::BaseScenario","ObjectId":0},{"ObjectName":"Scenario::IntervalModel","ObjectId":0},{"ObjectName":"gfxProcess","ObjectId":14},{"ObjectName":"Inlet","ObjectId":6}]},{"ObjectName":"Process::Cable","id":15,"Type":0,"Source":[{"ObjectName":"Scenario::ScenarioDocumentModel","ObjectId":1},{"ObjectName":"Scenario::BaseScenario","ObjectId":0},{"ObjectName":"Scenario::IntervalModel","ObjectId":0},{"ObjectName":"Process::ProcessModel","ObjectId":7},{"ObjectName":"Outlet","ObjectId":0}],"Sink":[{"ObjectName":"Scenario::ScenarioDocumentModel","ObjectId":1},{"ObjectName":"Scenario::BaseScenario","ObjectId":0},{"ObjectName":"Scenario::IntervalModel","ObjectId":0},{"ObjectName":"gfxProcess","ObjectId":12},{"ObjectName":"Inlet","ObjectId":1}]},{"ObjectName":"Process::Cable","id":16,"Type":0,"Source":[{"ObjectName":"Scenario::ScenarioDocumentModel","ObjectId":1},{"ObjectName":"Scenario::BaseScenario","ObjectId":0},{"ObjectName":"Scenario::IntervalModel","ObjectId":0},{"ObjectName":"Process::ProcessModel","ObjectId":6},{"ObjectName":"Outlet","ObjectId":0}],"Sink":[{"ObjectName":"Scenario::ScenarioDocumentModel","ObjectId":1},{"ObjectName":"Scenario::BaseScenario","ObjectId":0},{"ObjectName":"Scenario::IntervalModel","ObjectId":0},{"ObjectName":"gfxProcess","ObjectId":13},{"ObjectName":"Inlet","ObjectId":1}]},{"ObjectName":"Process::Cable","id":18,"Type":0,"Source":[{"ObjectName":"Scenario::ScenarioDocumentModel","ObjectId":1},{"ObjectName":"Scenario::BaseScenario","ObjectId":0},{"ObjectName":"Scenario::IntervalModel","ObjectId":0},{"ObjectName":"Process::ProcessModel","ObjectId":8},{"ObjectName":"Outlet","ObjectId":0}],"Sink":[{"ObjectName":"Scenario::ScenarioDocumentModel","ObjectId":1},{"ObjectName":"Scenario::BaseScenario","ObjectId":0},{"ObjectName":"Scenario::IntervalModel","ObjectId":0},{"ObjectName":"Process::ProcessModel","ObjectId":16},{"ObjectName":"Inlet","ObjectId":0}]},{"ObjectName":"Process::Cable","id":19,"Type":0,"Source":[{"ObjectName":"Scenario::ScenarioDocumentModel","ObjectId":1},{"ObjectName":"Scenario::BaseScenario","ObjectId":0},{"ObjectName":"Scenario::IntervalModel","ObjectId":0},{"ObjectName":"Process::ProcessModel","ObjectId":16},{"ObjectName":"Outlet","ObjectId":0}],"Sink":[{"ObjectName":"Scenario::ScenarioDocumentModel","ObjectId":1},{"ObjectName":"Scenario::BaseScenario","ObjectId":0},{"ObjectName":"Scenario::IntervalModel","ObjectId":0},{"ObjectName":"gfxProcess","ObjectId":13},{"ObjectName":"Inlet","ObjectId":2}]},{"ObjectName":"Process::Cable","id":22,"Type":0,"Source":[{"ObjectName":"Scenario::ScenarioDocumentModel","ObjectId":1},{"ObjectName":"Scenario::BaseScenario","ObjectId":0},{"ObjectName":"Scenario::IntervalModel","ObjectId":0},{"ObjectName":"Process::ProcessModel","ObjectId":4},{"ObjectName":"Outlet","ObjectId":0}],"Sink":[{"ObjectName":"Scenario::ScenarioDocumentModel","ObjectId":1},{"ObjectName":"Scenario::BaseScenario","ObjectId":0},{"ObjectName":"Scenario::IntervalModel","ObjectId":0},{"ObjectName":"Peak_detection","ObjectId":17},{"ObjectName":"Inlet","ObjectId":0}]},{"ObjectName":"Process::Cable","id":27,"Type":0,"Source":[{"ObjectName":"Scenario::ScenarioDocumentModel","ObjectId":1},{"ObjectName":"Scenario::BaseScenario","ObjectId":0},{"ObjectName":"Scenario::IntervalModel","ObjectId":0},{"ObjectName":"Process::ProcessModel","ObjectId":21},{"ObjectName":"Outlet","ObjectId":0}],"Sink":[{"ObjectName":"Scenario::ScenarioDocumentModel","ObjectId":1},{"ObjectName":"Scenario::BaseScenario","ObjectId":0},{"ObjectName":"Scenario::IntervalModel","ObjectId":0},{"ObjectName":"gfxProcess","ObjectId":14},{"ObjectName":"Inlet","ObjectId":1}]},{"ObjectName":"Process::Cable","id":26,"Type":0,"Source":[{"ObjectName":"Scenario::ScenarioDocumentModel","ObjectId":1},{"ObjectName":"Scenario::BaseScenario","ObjectId":0},{"ObjectName":"Scenario::IntervalModel","ObjectId":0},{"ObjectName":"Process::ProcessModel","ObjectId":8},{"ObjectName":"Outlet","ObjectId":0}],"Sink":[{"ObjectName":"Scenario::ScenarioDocumentModel","ObjectId":1},{"ObjectName":"Scenario::BaseScenario","ObjectId":0},{"ObjectName":"Scenario::IntervalModel","ObjectId":0},{"ObjectName":"Process::ProcessModel","ObjectId":21},{"ObjectName":"Inlet","ObjectId":0}]}],"BusIntervals":[]},"Plugins":[{"uuid":"1f923578-08c3-49be-9ba9-69c144ee2e32","Refresh":false,"Reconnect":false,"MidiRatio":1.0},{"uuid":"6e610e1f-9de2-4c36-90dd-0ef570002a21","RootNode":{},"Children":[{"Device":{"Name":"Window","Protocol":"5a181207-7d40-4ad8-814e-879fcdf8cc31","Background":true}},{"Device":{"Name":"Camera","Protocol":"d615690b-f2e2-447b-b70e-a800552db69c","Input":"default","Device":"default","Size":[-1,-1],"FPS":0.0,"Codec":0,"PixelFormat":-1,"ColorRange":0,"Custom":false}}]},{"uuid":"58c9e19a-fde3-47d0-a121-35853fec667d","Groups":{"GroupList":[{"ObjectName":"Group","id":0,"Name":"all","Clients":[]}]},"Policy":{"SessionId":1234,"LocalClient":{"ObjectName":"Client","id":0,"Name":"Master"}},"Intervals":[],"Events":[],"Syncs":[],"Processes":[]},{"uuid":"05e72689-e02c-4c9d-a0bf-fe84c32d3d96","Data":""}],"Version":4,"Commit":"760ed58aee88792c399d55a288958459ab54cba0","Tag":"3.8.0"}